{"version":19,"variables":[],"tiles":{"1":{"title":"Global Lambda Concurrent Executions","description":"Show the max number of concurrently executions per Lambda in Shared Signals and RP Events","type":"data","query":"timeseries concurrentExecutionsByAccountIdExecutedVersionFunctionNameRegionResource=max(cloud.aws.lambda.concurrentExecutionsByAccountIdExecutedVersionFunctionNameRegionResource),\nby:{ functionname},\nfilter: { aws.account.id==\"552549398917\" or aws.account.id==\"658501491317\"}\n","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":false,"chartSettings":{"gapPolicy":"connect"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"timeframe":{"tileTimeframe":{"from":"now()-2h","to":"now()"},"tileTimeframeEnabled":false}},"4":{"title":"SQS - Age of oldest message","description":"The approximate age of the oldest message in the SQS queue. Messages older than a minute will be highlighted in yellow. Messages older than 10 days will be highlighted in red. Queues in red need to be addressed immediately as messages older than 14 days will be removed. ","type":"data","subType":"dql-builder-metrics","query":"timeseries { max(cloud.aws.sqs.approximateAgeOfOldestMessageByAccountIdQueueNameRegion), value.A = avg(cloud.aws.sqs.approximateAgeOfOldestMessageByAccountIdQueueNameRegion, scalar: true) }, by: { queuename }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-0B451B2D140B779F\") OR matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") }","visualization":"honeycomb","visualizationSettings":{"honeycomb":{"colorMode":"custom-colors","customColors":[{"id":2158479.2,"value":0,"color":"#76C534","comparator":"≥"},{"id":2195921.4000000004,"value":60,"color":"#FFE433","comparator":"≥"},{"id":2213304.0999999996,"value":864000,"color":{"Default":"var(--dt-colors-charts-loglevel-emergency-default, #ae132d)"},"comparator":"≥"}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.sqs.approximateAgeOfOldestMessageByAccountIdQueueNameRegion","aggregation":"max"},"by":["queuename"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-0B451B2D140B779F OR \"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"6":{"title":"Number of events ingested","description":"The number of events ingested.","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(cloud.aws.sns.numberOfMessagesPublishedByAccountIdRegionTopicName), value.A = avg(cloud.aws.sns.numberOfMessagesPublishedByAccountIdRegionTopicName, scalar: true) }, by: { topicname }, filter: { matchesValue(topicname, \"event-processing-events-proccessed-topic\") }","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.sns.numberOfMessagesPublishedByAccountIdRegionTopicName","aggregation":"sum"},"by":["topicname"],"filter":"topicname = event-processing-events-proccessed-topic "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"7":{"title":"Shared Signals P99 event latency","description":"Share Signals event latency by clientID.","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice), value.A = avg(cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice, scalar: true) }, by: { clientid }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") }\n| sort value.A desc\n| limit 20","visualization":"lineChart","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice","aggregation":"avg"},"by":["clientid"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "}],"globalCommands":{"limit":20,"sort":{"field":"value.A","direction":"desc"}}},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"8":{"title":"Shared Signals event delivered count","description":"Shared Signals events delivered overtime by ClientID.","type":"data","subType":"dql-builder-metrics","query":"timeseries { count(cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice), value.A = avg(cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice, scalar: true) }, by: { clientid }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") }","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true,"chartSettings":{"gapPolicy":"connect"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.sharedsignals.evenT_LATENCYByAccountIdRegionclientIdservice","aggregation":"count"},"by":["clientid"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"9":{"title":"WIP - API Gateway errors vs requests ","description":"API Gateway errors shown alongside the number of executions to give an idea of failure rates.","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(cloud.aws.apigateway.4xxErrorByAccountIdApiNameRegion), value.A = avg(cloud.aws.apigateway.4xxErrorByAccountIdApiNameRegion, scalar: true), sum(cloud.aws.apigateway.5xxErrorByAccountIdApiNameRegion), value.B = avg(cloud.aws.apigateway.5xxErrorByAccountIdApiNameRegion, scalar: true), sum(cloud.aws.apigateway.countByAccountIdApiNameRegion), value.C = avg(cloud.aws.apigateway.countByAccountIdApiNameRegion, scalar: true) }, union: TRUE, by: { apiname }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") }","visualization":"lineChart","visualizationSettings":{"chartSettings":{"leftYAxisSettings":{"isLabelVisible":true},"gapPolicy":"connect"},"dataMapping":{"displayedFields":["apiname"]},"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.apigateway.4xxErrorByAccountIdApiNameRegion","aggregation":"sum"},"by":["apiname"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "},{"id":"B","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.apigateway.5xxErrorByAccountIdApiNameRegion","aggregation":"sum"},"by":["apiname"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "},{"id":"C","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.apigateway.countByAccountIdApiNameRegion","aggregation":"sum"},"by":["apiname"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"11":{"title":"DynamoDB read capacity","description":"DynamoDB read capacity.","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(cloud.aws.dynamodb.consumedReadCapacityUnitsByAccountIdRegionTableName), value.A = avg(cloud.aws.dynamodb.consumedReadCapacityUnitsByAccountIdRegionTableName, scalar: true) }, by: { tablename }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") OR matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-0B451B2D140B779F\") }","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.dynamodb.consumedReadCapacityUnitsByAccountIdRegionTableName","aggregation":"avg"},"by":["tablename"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C OR \"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-0B451B2D140B779F "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"12":{"title":"DynamoDB write capacity","description":"DynamoDB write capacity.","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(cloud.aws.dynamodb.consumedWriteCapacityUnitsByAccountIdRegionTableName), value.A = avg(cloud.aws.dynamodb.consumedWriteCapacityUnitsByAccountIdRegionTableName, scalar: true) }, by: { tablename }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-0B451B2D140B779F\") OR matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") }","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.dynamodb.consumedWriteCapacityUnitsByAccountIdRegionTableName","aggregation":"avg"},"by":["tablename"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-0B451B2D140B779F OR \"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"13":{"title":"DynamoDB successful request latency","description":"DynamoDB successful request latency by table name.","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(cloud.aws.dynamodb.successfulRequestLatencyByAccountIdOperationRegionTableName), value.A = avg(cloud.aws.dynamodb.successfulRequestLatencyByAccountIdOperationRegionTableName, scalar: true) }, by: { tablename }, filter: { matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-D6E4099A26FC050C\") OR matchesValue(`dt.entity.cloud:aws:account`, \"CUSTOM_DEVICE-0B451B2D140B779F\") }\n| sort value.A desc","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":true,"chartSettings":{"gapPolicy":"connect"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"16.2.1","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"cloud.aws.dynamodb.successfulRequestLatencyByAccountIdOperationRegionTableName","aggregation":"avg"},"by":["tablename"],"filter":"\"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-D6E4099A26FC050C OR \"`dt.entity.cloud:aws:account`\" = CUSTOM_DEVICE-0B451B2D140B779F "}],"globalCommands":{"sort":{"field":"value.A","direction":"desc"}}},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}}},"layouts":{"1":{"x":0,"y":0,"w":13,"h":8},"4":{"x":13,"y":0,"w":11,"h":8},"6":{"x":0,"y":8,"w":17,"h":5},"7":{"x":0,"y":13,"w":12,"h":6},"8":{"x":12,"y":13,"w":12,"h":6},"9":{"x":0,"y":19,"w":24,"h":6},"11":{"x":0,"y":25,"w":12,"h":6},"12":{"x":12,"y":25,"w":12,"h":6},"13":{"x":0,"y":31,"w":12,"h":6}},"importedWithCode":false,"settings":{}}